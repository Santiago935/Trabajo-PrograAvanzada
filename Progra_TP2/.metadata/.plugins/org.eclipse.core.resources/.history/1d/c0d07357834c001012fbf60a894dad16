package cofres;

import java.util.HashMap;
import utiles.Item;

public class CofreSolicitud extends Cofre {

	private HashMap<Item, Integer> pedidos; // separados del contenido real

	public CofreSolicitud(int x, int y, String id) {
		super(x, y, id);
		this.pedidos = new HashMap<>();
	}

	public void solicitarItem(Item item, int cantidad) {
		pedidos.put(item, pedidos.getOrDefault(item, 0) + cantidad);
	}

	public void atenderSolicitud(Item item, int cantidad) {
		int solicitado = pedidos.getOrDefault(item, 0);
		if (cantidad >= solicitado) {
			pedidos.remove(item);
		} else {
			pedidos.put(item, solicitado - cantidad);
		}
	}

	public int consultarCantidadSolicitada(Item item) {
		return pedidos.getOrDefault(item, 0);
	}

	public HashMap<Item, Integer> getPedidos() {
		return pedidos;
	}

	public boolean necesita(Item item) {
		return pedidos.containsKey(item);
	}

    //Pisamos el toString super y hacemos el especifico
	@Override
	public String toString() {
		return "Cofre [id=" + getId() + 
				", coordenada=" + getCoordenada() + 
				", nodo=" + getNodo() + 
				", tipo= CofreSolicitud" + 
				"]";
	}
}